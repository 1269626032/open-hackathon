{% extends "base.html" %}

{% block content %}
<hr>
<hr>
	<h1>Choose your course</h1>
	<div class = "row" id = "course">
		<h2>&nbsp;&nbsp;Script language</h2>
		<hr>
		<div class = "col-md-4">
		<a id = "image1"><canvas id = "canvas1" height = "300" width = "500" style = "background-color:#FFFF37;"></canvas></a>
		</div>
		<div class = "col-md-4">
		<a id = "image2"><canvas id = "canvas2" height = "300" width = "500" style = "background-color:#EA0000;"></canvas></a>
		</div>
		<div class = "col-md-4">
		<a id = "image3"><canvas id = "canvas3" height = "300" width = "500" style = "background-color:#FFDC35;"></canvas></a>
		</div>
		<h2>&nbsp;&nbsp;Database</h2>
		<hr>
		<div class = "col-md-4">
                <a id = "image4"><canvas id = "canvas4" height = "300" width = "500" style = "background-color:#FF8000;"></canvas></a>
                </div>
		<div class = "col-md-4">
                <a id = "image5"><canvas id = "canvas5" height = "300" width = "500" style = "background-color:#FF00FF;"></canvas></a>
                </div>
		<div class = "col-md-4">
                <a id = "image6"><canvas id = "canvas6" height = "300" width = "500" style = "background-color:#9AFF02;"></canvas></a>
                </div>
		<h2>&nbsp;&nbsp;Microsoft</h2>
		<hr>
		<div class = "col-md-4">
                <a id = "image7"><canvas id = "canvas7" height = "300" width = "500" style = "background-color:#921AFF;"></canvas></a>
                </div>
		<div class = "col-md-4">
                <a id = "image8"><canvas id = "canvas8" height = "300" width = "500" style = "background-color:#2894FF;"></canvas></a>
                </div>
		<div class = "col-md-4">
                <a id = "image9"><canvas id = "canvas9" height = "300" width = "500" style = "background-color:#00FFFF;"></canvas></a>
                </div>
	</div>	
	<script type = "text/javascript">
		window.onload = function() {
		function canvasvalue(id ,text) {
			canvas = document.getElementById(id);
			ctx = canvas.getContext('2d');
			//ctx.fillStyle = color;
			//ctx.fillRect(0,0,400,400);
			ctx.font = "100px Times New Roman";
			//ctx.textAlign = "left";
			ctx.fillText(text,120-text.length*10,160);
		}
		canvasvalue('canvas1',"Python");
		canvasvalue('canvas2',"Ruby");
		canvasvalue('canvas3',"Perl");
		canvasvalue('canvas4',"Mysql");
		canvasvalue('canvas5',"Mongodb");
		canvasvalue('canvas6',"Redis");
		canvasvalue('canvas7',".NET");
		canvasvalue('canvas8',"Typescript");
		canvasvalue('canvas9',"Azure");

		for (var i = 1;i <= 9;i++) {
			name = "#image" + i.toString();
			url = "http://osslab.chinacloudapp.cn:5080/course?type=" + i.toString();
			$(name).attr("href",url);
                }

		}
	</script>
	
	
	<script type = "text/javascript">
		$(function() {
			$(document).ready(function() {
				Display();
			});

			function getUrlparam(name) {
				var reg = new RegExp("(^|&)"+ name +"=([^&]*)(&|$)");
				var r = window.location.search.substr(1).match(reg);
				if (r!=null) return unescape(r[2]); return null;
			}

			function Display() {
				var name = "access_token";
				var url = window.location.href;
				//var urls = url.split('#');
				//location.href = urls.join(l?');
				var theRequest = new Object();
				if (url.indexOf("#")!=-1) {
					var urls = url.split('#');
	                                location.href = urls.join('?');

					var str = url.substr(url.indexOf("#")+1);
					var strs = str.split("&");
					for (var i = 0;i < strs.length;i ++)
					{
					theRequest[strs[i].split("=")[0]] = unescape(strs[i].split("=")[1]);
					}
					newurl_h = "https://api.renren.com";
					newurl_t = "m/v2/user/get?access_token=" +  theRequest[name];
					newurl = "https://api.renren.com/v2/user/get?access_token=" +  theRequest[name] /*+ "&state=7e0932f4c5b34176b0ca1881f5e88562" + "&jsoncallback=?"*/;
	//				$("#content").html("<p>" + newurl +" " +  theRequest[name]  + "</p>");
					var tmpurl = "http://osslab.chinacloudapp.cn:5080/renren";
	//				location.href = newurl;
					/*$.ajax({
						type : "GET",
						url : newurl,
						datatype : "jsonp" ,
						success: function(msg) {
							alert("ok");
						},
						error : function(msg) {
							alert("something is wrong!\n" + msg.d);
						}
					});*/
					/*$.ajax({
						type : 'GET',
						url : newurl,
						async : false,
						dataType: "jsonp",
						jsonp : "callback",
						jsonpCallback : "callback",
						success: function(msg) {
							alert("ok");
						}
					});*/
					//location.href = tmpurl;
					//$("#content").html("<p>" + name + " " + "</p>");
				}
			}
		});	
	</script>
	
{% endblock %} 
