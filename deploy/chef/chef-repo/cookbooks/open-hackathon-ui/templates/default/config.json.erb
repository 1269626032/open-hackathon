# -----------------------------------------------------------------------------------
# Copyright (c) Microsoft Open Technologies (Shanghai) Co. Ltd.  All rights reserved.
#  
# The MIT License (MIT)
#  
# Permission is hereby granted, free of charge, to any person obtaining a copy
# of this software and associated documentation files (the "Software"), to deal
# in the Software without restriction, including without limitation the rights
# to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
# copies of the Software, and to permit persons to whom the Software is
# furnished to do so, subject to the following conditions:
#  
# The above copyright notice and this permission notice shall be included in
# all copies or substantial portions of the Software.
#  
# THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
# IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
# FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
# AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
# LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
# OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
# THE SOFTWARE.
# -----------------------------------------------------------------------------------


{
  "hostname": "<%= node['openhackathon'][:ui][:hostname] %>",
  "hackathon_name":"<%= node['openhackathon'][:ui][:hackathon_name] %>",
  "proxy": "<%= node['openhackathon']['api']['endpoint'] %>",
  "login": {
    "github": {
      "access_token_url": "https://github.com/login/oauth/access_token",
      "client_id":"<%= node['openhackathon']['github']['client_id'] %>",
      "client_secret":"<%= @github_client_secret %>",
      "redirect_uri":"http://%s/github",
      "code":""
    },
    "qq": {
      "access_token_url": "https://graph.qq.com/oauth2.0/token",
      "grant_type":"authorization_code",
      "client_id":"<%= node['openhackathon']['qq']['client_id'] %>",
      "client_secret":"<%= @qq_client_secret %>",
      "redirect_uri":"http://%s/qq",
      "code":""
    },
    "gitcafe": {
      "access_token_url": "<%= node['openhackathon']['gitcafe']['api_domain'] %>/oauth/token",
      "client_id":"<%= node['openhackathon']['gitcafe']['client_id'] %>",
      "client_secret":"<%= @gitcafe_client_secret %>",
      "redirect_uri":"http://%s/gitcafe",
      "grant_type":"authorization_code",
      "code":""
    },
    "weibo":{
      "access_token_url": "https://api.weibo.com/oauth2/access_token",
      "client_id":"<%= node['openhackathon']['weibo']['client_id'] %>",
      "client_secret":"<%= @weibo_client_secret %>",
      "grant_type":"authorization_code",
      "redirect_uri":"http://%s/weibo",
      "code":""
    },
    "live":{
      "access_token_url": "https://login.live.com/oauth20_token.srf",
      "client_id":"<%= node['openhackathon']['live']['client_id'] %>",
      "client_secret":"<%= @live_client_secret %>",
      "grant_type":"authorization_code",
      "redirect_uri":"http://%s/live",
      "code":""
    },
    "provider_enabled": <%= node['openhackathon'][:ui][:login_provider] %>
  },
  "api": {
    "user": {
      "login": ["post","delete"],
      "experiment": {
        "": ["get","post","delete","put"],
        "list": ["get"]
      }
    },
    "registration": {
      "": ["put","post","get"],
      "checkmail": ["get"],
      "list": ["get"]
    },
    "bulletin": {
      "": ["get","post"]
    },
    "hackathon": {
      "": ["get"],
      "list": ["get"],
      "stat": ["get"],
      "template": ["get"]
    }
  },
  "sociallogin": {
    "github": {
      "client_id": "<%= node['openhackathon']['github']['client_id'] %>",
      "redirect_uri": "http://<%= node['openhackathon'][:ui][:hostname] %>/github",
      "scope": "user"
    },
    "gitcafe": {
      "client_id": "<%= node['openhackathon']['gitcafe']['client_id'] %>",
      "redirect_uri": "http://<%= node['openhackathon'][:ui][:hostname] %>/gitcafe",
      "response_type": "code",
      "scope": "public"
    },
    "weibo": {
      "meta_content": "<%= node['openhackathon']['weibo']['meta_content'] %>",
      "client_id": "<%= node['openhackathon']['weibo']['client_id'] %>",
      "redirect_uri": "http://<%= node['openhackathon'][:ui][:hostname] %>/weibo",
      "scope": "all"
    },
    "qq": {
      "client_id": "<%= node['openhackathon']['qq']['client_id'] %>",
      "redirect_uri": "http://<%= node['openhackathon'][:ui][:hostname] %>/qq" ,
      "scope": "<%= node['openhackathon']['qq']['scope'] %>",
      "state": "<%= node['openhackathon']['qq']['OAUTH_STATE'] %>",
      "response_type": "<%= node['openhackathon']['qq']['response_type'] %>"
    },
    "live": {
      "client_id": "<%= node['openhackathon']['live']['client_id'] %>",
      "redirect_uri": "http://<%= node['openhackathon'][:ui][:hostname] %>/live" ,
      "scope": "<%= node['openhackathon']['live']['scope'] %>",
      "response_type": "code"
    }
  },
  "social":{
    "github":"https://github.com/login/oauth/authorize?",
    "gitcafe":"<%= node['openhackathon']['gitcafe']['domain'] %>/oauth/authorize?'",
    "weibo":"https://api.weibo.com/oauth2/authorize?",
    "qq":"https://graph.qq.com/oauth2.0/authorize?",
    "live":"https://login.live.com/oauth20_authorize.srf?"
  },
  "seo":{
    "keywords":"开放黑客松,Open Hackathon Platform",
    "description":"open hackathon platform"
  }
}
